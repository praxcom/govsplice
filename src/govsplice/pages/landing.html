<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Govsplice</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/style">
</head>
<body class="bg-soft-cream text-deep-teal font-sans antialiased">

    <header class="sticky top-0 z-50 bg-soft-cream/95 backdrop-blur-sm shadow-md border-b border-light-surface">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-extrabold text-deep-teal tracking-tighter">
                Gov<span class="text-accent-teal">splice</span>
            </a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#product" class="text-sm font-medium text-deep-teal hover:text-accent-teal transition duration-200">Product</a>
                <a href="#pricing" class="text-sm font-medium text-deep-teal hover:text-accent-teal transition duration-200">Pricing</a>
                <a href="#resources" class="text-sm font-medium text-deep-teal hover:text-accent-teal transition duration-200">Resources</a>
                <a href="#contact" class="text-sm font-medium text-deep-teal hover:text-accent-teal transition duration-200">Contact</a>
                <a href="#get-started" class="text-sm font-semibold text-deep-teal hover:text-accent-teal transition duration-200">Login</a>
                <a href="#get-started" class="px-5 py-2 bg-deep-teal text-soft-cream rounded-lg text-sm font-bold hover:bg-teal-700 transition">Sign Up</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-lg hover:bg-light-surface transition duration-200 text-deep-teal" aria-label="Toggle Menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
    </header>

    <main>
        <section class="hero-bg py-20 lg:py-32 overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <div class="max-w-3xl mx-auto">
                    <h1 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-tight tracking-tighter mb-6 text-deep-teal">
                        Find Customers.
                        <br>
                        <span class="text-accent-teal">Analyse Locations.</span>
                        <br>
                        <span>Save Time.</span>
                        <br>
                        <span class="text-accent-teal">Save Cash.</span>
                    </h1>
                    <p class="text-xl text-deep-teal/80 mb-10 max-w-2xl mx-auto">
                        You are overpaying for territory mapping.<br>
                        Govsplice puts technology and design before profit.<br>
                        We enable you to analyse customer distributions and find perfect locations, within seconds, without a smidge of geospatial expertise.
                    </p>
                    <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                        <a href="#get-started" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-xl shadow-lg text-soft-cream bg-accent-pink hover:bg-fuchsia-400 transition duration-300 transform hover:scale-[1.02] shadow-accent-pink/50">
                            Get Started
                        </a>
                        <a href="#product" class="inline-flex items-center justify-center px-8 py-3 border-2 border-deep-teal/40 text-base font-medium rounded-xl text-deep-teal hover:bg-light-surface transition duration-300 transform hover:scale-[1.02]">
                            Learn More
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="product" class="py-20 lg:py-28 bg-soft-cream">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                <h2 class="text-4xl font-extrabold text-deep-teal mb-4">
                    Core Features
                </h2>

                <p class="text-xl text-deep-teal/80 max-w-3xl mx-auto mb-10">
                    Govsplice is a rapidly evolving platform. Currently, we are focused on creating rich and
                    <strong>easy to use</strong> demographic analysis tools.
                </p>

                <div class="max-w-3xl mx-auto">
                    <div class="bg-light-surface p-4 rounded-2xl border border-deep-teal/10 shadow-lg transition duration-300 hover:scale-[1.01]">
                    <img
                        src="/assets?assetName=demo-img-1"
                        alt="Demo image"
                        class="w-full rounded-xl"
                    >
                    </div>
                </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                <div class="bg-light-surface p-8 rounded-2xl border border-deep-teal/10 shadow-lg transition duration-300 hover:scale-[1.01]">
                    <h3 class="text-2xl font-semibold text-deep-teal mb-3">Travel Time</h3>
                    <p class="text-deep-teal/70">
                    Understand who lives within a specified travel time of a location, broken down by mode of travel.
                    </p>
                </div>

                <div class="bg-light-surface p-8 rounded-2xl border border-deep-teal/10 shadow-lg transition duration-300 hover:scale-[1.01]">
                    <h3 class="text-2xl font-semibold text-deep-teal mb-3">Travel Distance</h3>
                    <p class="text-deep-teal/70">
                    Understand who lives within a specified distance of a location, broken down by routes available to different modes of travel.
                    </p>
                </div>
                </div>
            </div>
        </section>


        <section id="pricing" class="py-20 lg:py-28 bg-light-surface">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-extrabold text-deep-teal mb-4">Pricing Options</h2>
                    <p class="text-xl text-deep-teal/80 max-w-3xl mx-auto">We put utility before profit. Get the full-featured Community Edition or save time and effort with the Professional Edition.</p>
                </div>
                <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12 max-w-4xl mx-auto">
                    <div class="bg-soft-cream p-8 rounded-2xl border-4 border-accent-teal/50 shadow-2xl">
                        <h3 class="text-3xl font-extrabold text-deep-teal mb-3">Community Edition</h3>
                        <div class="text-5xl font-extrabold text-deep-teal mb-6">£0<span class="text-xl font-normal text-deep-teal/70">/mo</span></div>
                        <ul class="space-y-3 text-deep-teal/80 mb-8">
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-deep-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="5" y="5" width="14" height="14" rx="2" ry="2" stroke-width="2" /></svg>
                                <span>Open source</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-deep-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="5" y="5" width="14" height="14" rx="2" ry="2" stroke-width="2" /></svg>
                                <span>Self-hosted deployment</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-deep-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="5" y="5" width="14" height="14" rx="2" ry="2" stroke-width="2" /></svg>
                                <span>Less support</span>
                            </li>
                        </ul>
                        <a href="#resources" class="block w-full text-center py-3 font-semibold rounded-xl text-deep-teal border-2 border-accent-teal/70">Learn More</a>
                    </div>
                    <div class="bg-soft-cream p-8 rounded-2xl border-4 border-accent-pink shadow-2xl transform scale-[1.03]">
                        <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-accent-teal text-soft-cream px-4 py-1 rounded-full text-sm font-semibold shadow-md">
                           LIMITED TIME OFFER
                        </div>
                        <h3 class="text-3xl font-extrabold text-deep-teal mb-3">Professional Edition</h3>
                        <div class="text-5xl font-extrabold text-deep-teal mb-6">£0<span class="text-xl font-normal text-deep-teal/70">/mo</span></div>
                        <ul class="space-y-3 text-deep-teal/80 mb-8">
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-accent-pink" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>Fully managed service</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-accent-pink" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>No long term commitment</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-accent-pink" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>Unlimited fair usage</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-accent-pink" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>No headaches</span>
                            </li>
                            <li class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-accent-pink" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>Full customer support</span>
                            </li>
                        </ul>
                        <a href="#get-started" class="block w-full text-center py-3 font-bold rounded-xl text-soft-cream bg-accent-pink">Sign Up</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="get-started" class="auth-section">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-extrabold mb-4">Access Govsplice</h2>
                </div>
                <div class="auth-container">
                    <div class="auth-card-static">
                        <h3 class="text-2xl font-bold mb-2">Login</h3>
                        <p class="text-sm text-deep-teal/60 mb-6">Welcome back to Govsplice.</p>
                        <form onsubmit="handleAuth(event, 'login')">
                            <input type="text" name="username" placeholder="Email Address" class="auth-input" required>
                            <input type="password" name="password" placeholder="Password" class="auth-input" required>
                            <div id="login-error" class="error-msg"></div>
                            <button type="submit" class="auth-btn bg-accent-teal">Login to Dashboard</button>
                        </form>
                    </div>
                    <div class="auth-card-static">
                        <h3 class="text-2xl font-bold mb-2 text-accent-pink">Sign Up</h3>
                        <p class="text-sm text-deep-teal/60 mb-6">Create your professional account.</p>
                        <form onsubmit="handleAuth(event, 'signup')">
                            <input type="text" name="name" placeholder="Full Name" class="auth-input" required>
                            <input type="email" name="username" placeholder="Email Address" class="auth-input" required>
                            <input type="password" name="password" placeholder="Create Password" class="auth-input" required>
                            <div id="signup-error" class="error-msg"></div>
                            <button type="submit" class="auth-btn bg-accent-pink">Create Free Account</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section id="resources" class="py-20 bg-soft-cream">
            <div class="max-w-7xl mx-auto px-4 text-center">
                <h2 class="text-4xl font-extrabold mb-8">Resources</h2>
                <div class="grid grid-cols-1 md:grid-cols-1 gap-10 max-w-4xl mx-auto">
                    <div class="bg-light-surface p-10 rounded-2xl shadow-xl">
                        <h3 class="text-2xl font-bold mb-4">Community Edition</h3>
                        <p class="mb-6">If you want to use the full-featured & free Community Edition of Govsplice, then you need to use the respository hosted on Github. Follow the link below to see the source code and documentation.</p>
                        <a href="https://github.com/praxcom/govsplice" class="text-accent-teal font-semibold">Github →</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-5 bg-light-surface">
            <div class="max-w-3xl mx-auto px-4 text-center">
                <h2 class="text-4xl font-extrabold mb-4">Contact</h2>
                <p class="mb-6">remi.govsplice@gmail.com</p>
            </div>
        </section>
    </main>

    <footer class="bg-light-surface border-t border-deep-teal/10 py-2 text-center">
        <a href="https://github.com/praxcom" class="text-sm text-deep-teal/60">© 2025 Praxcom</p>
    </footer>

    <script>
        async function handleAuth(event, type) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const errorEl = document.getElementById(`${type}-error`);
            errorEl.style.display = 'none';

            const url = type === 'login' ? '/api/v1/login' : '/api/v1/signup';
            let options = { method: 'POST' };

            if (type === 'login') {
                options.body = formData;
            } else {
                const data = Object.fromEntries(formData.entries());
                options.headers = { 'Content-Type': 'application/json' };
                options.body = JSON.stringify(data);
            }

            try {
                const response = await fetch(url, options);
                if (response.ok) {
                    if (type === 'signup') {
                        const loginData = new FormData();
                        loginData.append('username', formData.get('username'));
                        loginData.append('password', formData.get('password'));
                        
                        const loginResponse = await fetch('/api/v1/login', {
                            method: 'POST',
                            body: loginData
                        });
                        
                        if (!loginResponse.ok) throw new Error("Auto-login failed");
                    }
                    window.location.href = '/viewer';
                } else {
                    const err = await response.json();
                    errorEl.innerText = err.detail || "Authentication failed.";
                    errorEl.style.display = 'block';
                }
            } catch (e) {
                errorEl.innerText = "Connection error. Is the server running?";
                errorEl.style.display = 'block';
            }
        }
    </script>
</body>
</html>